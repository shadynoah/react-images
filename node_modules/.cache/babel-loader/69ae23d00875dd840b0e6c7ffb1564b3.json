{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Desktop/front-end-assignment-master/src/App.js\";\nimport React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport { getNASAPictures } from \"./NasaAPI\";\nimport moment from \"moment\";\n\nfunction App() {\n  const [pictures, updatePictures] = React.useState(null);\n  const [rowData, updateRowData] = React.useState(null);\n  const [dateOfFilter, setDateOfFilter] = React.useState(null);\n  useEffect(() => {\n    if (!pictures) {\n      const startDate = new Date(\"2022-01-01T08:28:41.917Z\"); // const startDate = new Date(\"2022-02-20T08:28:41.917Z\");\n\n      const endDate = new Date();\n      getNASAPictures(startDate, endDate).then(res => {\n        let filtered = res.filter(image => image.media_type === \"image\");\n        updateRowData(filtered);\n        updatePictures(spliter(filtered, 3));\n      });\n    }\n  }, [pictures]);\n  useEffect(() => {\n    if (pictures) {\n      const sevenDaysBefore = moment().subtract(+dateOfFilter, \"days\");\n      const today = moment();\n      const fil = rowData.filter(pic => {\n        if (moment(pic.date).isBetween(sevenDaysBefore, today, \"day\", \"[]\")) return pic;\n      });\n      if (dateOfFilter === \"\") updatePictures(spliter(rowData, 3));else updatePictures(spliter(fil, 3));\n    }\n  }, [dateOfFilter]);\n  let subArrays = [];\n\n  function spliter(array, chunkSize) {\n    for (let i = 0; i < array.length; i += chunkSize) {\n      const chunk = array.slice(i, i + chunkSize); // do whatever\n\n      console.log();\n      subArrays.push(chunk);\n    }\n\n    return subArrays;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container App\",\n    style: {\n      marginTop: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    class: \"form-select\",\n    \"aria-label\": \"Default select example\",\n    onChange: v => {\n      setDateOfFilter(v.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, \"Open this select menu\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, \"last week\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"last two weeks\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"last month\"))), pictures && pictures.map(pictureArr => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, pictureArr.map(pic => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"imageBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"imageBoxDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, pic === null || pic === void 0 ? void 0 : pic.date), /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        width: \"100%\",\n        height: 250\n      },\n      src: pic.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex justify-content-between p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 23\n      }\n    }, pic === null || pic === void 0 ? void 0 : pic.title), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 23\n      }\n    }, (pic === null || pic === void 0 ? void 0 : pic.copyright) || \"\"))));\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/macbookpro/Desktop/front-end-assignment-master/src/App.js"],"names":["React","useEffect","getNASAPictures","moment","App","pictures","updatePictures","useState","rowData","updateRowData","dateOfFilter","setDateOfFilter","startDate","Date","endDate","then","res","filtered","filter","image","media_type","spliter","sevenDaysBefore","subtract","today","fil","pic","date","isBetween","subArrays","array","chunkSize","i","length","chunk","slice","console","log","push","marginTop","v","target","value","map","pictureArr","width","height","url","title","copyright"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport { getNASAPictures } from \"./NasaAPI\";\nimport moment from \"moment\";\n\nfunction App() {\n  const [pictures, updatePictures] = React.useState(null);\n  const [rowData, updateRowData] = React.useState(null);\n  const [dateOfFilter, setDateOfFilter] = React.useState(null);\n  useEffect(() => {\n    if (!pictures) {\n      const startDate = new Date(\"2022-01-01T08:28:41.917Z\");\n      // const startDate = new Date(\"2022-02-20T08:28:41.917Z\");\n      const endDate = new Date();\n      getNASAPictures(startDate, endDate).then((res) => {\n        let filtered = res.filter((image) => image.media_type === \"image\");\n        updateRowData(filtered);\n        updatePictures(spliter(filtered, 3));\n      });\n    }\n  }, [pictures]);\n  useEffect(() => {\n    if (pictures) {\n      const sevenDaysBefore = moment().subtract(+dateOfFilter, \"days\");\n      const today = moment();\n      const fil = rowData.filter((pic) => {\n        if (moment(pic.date).isBetween(sevenDaysBefore, today, \"day\", \"[]\"))\n          return pic;\n      });\n      if (dateOfFilter === \"\") updatePictures(spliter(rowData, 3));\n      else updatePictures(spliter(fil, 3));\n    }\n  }, [dateOfFilter]);\n  let subArrays = [];\n  function spliter(array, chunkSize) {\n    for (let i = 0; i < array.length; i += chunkSize) {\n      const chunk = array.slice(i, i + chunkSize);\n      // do whatever\n      console.log();\n      subArrays.push(chunk);\n    }\n    return subArrays;\n  }\n  return (\n    <div className=\"container App\" style={{ marginTop: 20 }}>\n      <div>\n        <select\n          class=\"form-select\"\n          aria-label=\"Default select example\"\n          onChange={(v) => {\n            setDateOfFilter(v.target.value);\n          }}\n        >\n          <option value=\"\" selected>\n            Open this select menu\n          </option>\n          <option value=\"7\">last week</option>\n          <option value=\"14\">last two weeks</option>\n          <option value=\"30\">last month</option>\n        </select>\n      </div>\n\n      {pictures &&\n        pictures.map((pictureArr) => (\n          <div className=\"row my-4\">\n            {pictureArr.map((pic) => {\n              return (\n                <div className=\"col-md-4\">\n                  <div className=\"imageBox\">\n                    <p className=\"imageBoxDate\">{pic?.date}</p>\n                    <img style={{ width: \"100%\", height: 250 }} src={pic.url} />\n                    <div class=\"d-flex justify-content-between p-3\">\n                      <h5>{pic?.title}</h5>\n                      <span>{pic?.copyright || \"\"}</span>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        ))}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}